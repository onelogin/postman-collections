{"info":{"_postman_id":"e1c1ba7d-6174-4290-b06e-5f8cdafea5b1","name":"User Mappings - OneLogin API","description":"Simple tests for the new Mappings API","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"List Mappings","event":[{"listen":"test","script":{"id":"1b88c8a1-bd31-4bf3-88b2-4a49ca9d6842","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});"],"type":"text/javascript"}}],"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"GET","header":[],"url":{"raw":"https://{{api-domain}}/api/2/mappings","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings"],"query":[{"key":"has_condition","value":"has_role:{{role_id}}","disabled":true},{"key":"has_condition_type","value":"none","disabled":true},{"key":"has_action","value":"set_status:*","disabled":true},{"key":"has_action_type","value":"none","disabled":true}]}},"response":[]},{"name":"Get Mapping","event":[{"listen":"test","script":{"id":"60d3617a-0047-4504-a363-fbce8347411a","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});",""],"type":"text/javascript"}}],"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"GET","header":[],"url":{"raw":"https://{{api-domain}}/api/2/mappings/{{mapping_id}}","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings","{{mapping_id}}"]}},"response":[]},{"name":"Create Mapping","event":[{"listen":"test","script":{"id":"1b88c8a1-bd31-4bf3-88b2-4a49ca9d6842","exec":["pm.test(\"Status code is 201\", function () {","    pm.response.to.have.status(201);","});","","pm.test(\"Response ID is not null\", function () {","    pm.response.json().id.not.equal(null);","});","","postman.setEnvironmentVariable(\"mapping_id\", pm.response.json().id);"],"type":"text/javascript"}}],"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"Suspend after 90 days inactive\",\n    \"match\": \"all\",\n    \"position\": null,\n    \"enabled\": true,\n    \"conditions\": [\n        {\n            \"source\": \"last_login\",\n            \"operator\": \">\",\n            \"value\": \"90\"\n        }\n    ],\n    \"actions\": [\n        {\n            \"action\": \"set_status\",\n            \"value\": [\"2\"]\n        }\n    ]\n}"},"url":{"raw":"https://{{api-domain}}/api/2/mappings","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings"]}},"response":[]},{"name":"Update Mapping","event":[{"listen":"test","script":{"id":"60d3617a-0047-4504-a363-fbce8347411a","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","","pm.test(\"Response ID is not null\", function () {","    pm.response.json().id.not.equal(null);","});",""],"type":"text/javascript"}}],"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"PUT","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"My Second Mapping\",\n    \"match\": \"all\",\n    \"enabled\": true,\n    \"position\": 1,\n    \"conditions\": [\n        {\n            \"source\": \"last_login\",\n            \"operator\": \">\",\n            \"value\": \"90\"\n        }\n    ],\n    \"actions\": [\n        {\n            \"action\": \"set_status\",\n            \"value\": \"2\"\n        }\n    ]\n}"},"url":{"raw":"https://{{api-domain}}/api/2/mappings/{{mapping_id}}","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings","{{mapping_id}}"]}},"response":[]},{"name":"Delete Mapping","event":[{"listen":"test","script":{"id":"60d3617a-0047-4504-a363-fbce8347411a","exec":["pm.test(\"Status code is 204\", function () {","    pm.response.to.have.status(204);","});",""],"type":"text/javascript"}}],"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"DELETE","header":[],"url":{"raw":"https://{{api-domain}}/api/2/mappings/{{mapping_id}}","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings","{{mapping_id}}"]}},"response":[]},{"name":"List Conditions","event":[{"listen":"test","script":{"id":"1b88c8a1-bd31-4bf3-88b2-4a49ca9d6842","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});"],"type":"text/javascript"}}],"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"GET","header":[],"url":{"raw":"https://{{api-domain}}/api/2/mappings/conditions","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings","conditions"]}},"response":[]},{"name":"List Conditions Operators","event":[{"listen":"test","script":{"id":"1b88c8a1-bd31-4bf3-88b2-4a49ca9d6842","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});"],"type":"text/javascript"}}],"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"GET","header":[],"url":{"raw":"https://{{api-domain}}/api/2/mappings/conditions/{{mapping_condition_value}}/operators","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings","conditions","{{mapping_condition_value}}","operators"]}},"response":[]},{"name":"List Conditions Values","event":[{"listen":"test","script":{"id":"1b88c8a1-bd31-4bf3-88b2-4a49ca9d6842","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});"],"type":"text/javascript"}}],"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"GET","header":[],"url":{"raw":"https://{{api-domain}}/api/2/mappings/conditions/{{mapping_condition_value}}/values","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings","conditions","{{mapping_condition_value}}","values"]}},"response":[]},{"name":"List Actions","event":[{"listen":"test","script":{"id":"1b88c8a1-bd31-4bf3-88b2-4a49ca9d6842","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});"],"type":"text/javascript"}}],"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"GET","header":[],"url":{"raw":"https://{{api-domain}}/api/2/mappings/actions","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings","actions"]}},"response":[]},{"name":"List Actions Values","event":[{"listen":"test","script":{"id":"1b88c8a1-bd31-4bf3-88b2-4a49ca9d6842","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});"],"type":"text/javascript"}}],"request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"GET","header":[],"url":{"raw":"https://{{api-domain}}/api/2/mappings/actions/{{mapping_action_value}}/values","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings","actions","{{mapping_action_value}}","values"]}},"response":[]},{"name":"Bulk Sort","request":{"auth":{"type":"bearer","bearer":[{"key":"token","value":"{{access_token}}","type":"string"}]},"method":"PUT","header":[{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"[196671,196670,196672,196676,197758]","options":{"raw":{"language":"json"}}},"url":{"raw":"https://{{api-domain}}/api/2/mappings/sort","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mappings","sort"]}},"response":[]}],"protocolProfileBehavior":{}}