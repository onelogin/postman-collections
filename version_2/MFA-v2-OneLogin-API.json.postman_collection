{"info":{"_postman_id":"07192ad9-633a-4583-a9d1-47bc89c8c91d","name":"MFA v2 - OneLogin API","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"users/{user id}","item":[{"name":"registrations","item":[{"name":"{registration id}","item":[{"name":"get user registration","request":{"auth":{"type":"oauth2","oauth2":[{"key":"accessToken","value":"{{access_token}}","type":"string"},{"key":"addTokenTo","value":"header","type":"string"}]},"method":"GET","header":[{"key":"Authorization","value":"bearer: {{access_token}}","type":"text"}],"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/registrations/:registration_id","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","registrations",":registration_id"],"variable":[{"key":"user_id","value":"{{user_id}}","description":"(Required) The user's id"},{"key":"registration_id","value":"<UUID>","description":"(Required) The id of a registration"}]},"description":"Get registration state by id"},"response":[{"name":"Get user registration","originalRequest":{"method":"GET","header":[{"key":"Authorization","value":"bearer: {{access_token}}","type":"text"}],"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/registrations/:registration_id","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","registrations",":registration_id"],"variable":[{"key":"user_id","value":"{{user_id}}","description":"(Required) The user's id"},{"key":"registration_id","value":"<UUID>","description":"(Required) The id of a registration"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Accept-Language","value":"en-US,en;q=1"},{"key":"Cache-Control","value":"no-cache, must-revalidate, no-store"},{"key":"Content-Length","value":"64"},{"key":"Content-Type","value":"application/json"},{"key":"X-Content-Type-Options","value":"nosniff"},{"key":"X-Request-Id","value":"5F188C46-49E1609A-D47B-0A0B033A-01BB-11459E-43E7"},{"key":"Date","value":"Wed, 22 Jul 2020 18:58:14 GMT"}],"cookie":[],"body":"{\n    \"id\": \"ca332b26-0d83-444f-956b-0dbf004a3f03\",\n    \"status\": \"pending\"\n}"}]},{"name":"verify user registration","request":{"auth":{"type":"oauth2","oauth2":[{"key":"accessToken","value":"{{access_token}}","type":"string"},{"key":"addTokenTo","value":"header","type":"string"}]},"method":"PUT","header":[{"key":"Content-Type","value":"application/json"},{"key":"Authorization","value":"bearer: {{access_token}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"otp\": \"506C45\"\n}","options":{"raw":{}}},"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/registrations/:registration_id","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","registrations",":registration_id"],"variable":[{"key":"user_id","value":"{{user_id}}"},{"key":"registration_id","value":"<UUID>","description":"(Required) The id of a registration"}]},"description":"Submit an otp for verification."},"response":[{"name":"Verify user registration","originalRequest":{"method":"PUT","header":[{"key":"Content-Type","value":"application/json"},{"key":"Authorization","value":"bearer: {{access_token}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"otp\": \"506C45\"\n}","options":{"raw":{}}},"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/registrations/:registration_id","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","registrations",":registration_id"],"variable":[{"key":"user_id","value":"{{user_id}}"},{"key":"registration_id","value":"<UUID>","description":"(Required) The id of a registration"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Accept-Language","value":"en-US,en;q=1"},{"key":"Cache-Control","value":"no-cache, must-revalidate, no-store"},{"key":"Content-Length","value":"87"},{"key":"Content-Type","value":"application/json"},{"key":"X-Content-Type-Options","value":"nosniff"},{"key":"X-Request-Id","value":"5F188CDE-49E1609A-D480-0A0B0591-01BB-3589-0813"},{"key":"Date","value":"Wed, 22 Jul 2020 19:00:47 GMT"}],"cookie":[],"body":"{\n    \"id\": \"44aa6883-5048-4cd5-8cb2-64d47784230c\",\n    \"status\": \"accepted\",\n    \"device_id\": \"3926157\"\n}"}]}],"protocolProfileBehavior":{},"_postman_isSubFolder":true},{"name":"create user factor registration","request":{"auth":{"type":"oauth2","oauth2":[{"key":"accessToken","value":"{{access_token}}","type":"string"},{"key":"addTokenTo","value":"header","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Authorization","value":"bearer: {{access_token}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"factor_id\": \"58959\",\n    \"display_name\": \"SMS\"\n}","options":{"raw":{}}},"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/registrations","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","registrations"],"variable":[{"key":"user_id","value":"{{user_id}}","description":"(Required) The user's id"}]},"description":"Create a new registration process"},"response":[{"name":"Create user factor registration","originalRequest":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Authorization","value":"bearer: {{access_token}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"factor_id\": \"58959\",\n    \"display_name\": \"SMS\"\n}","options":{"raw":{}}},"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/registrations","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","registrations"],"variable":[{"key":"user_id","value":"{{user_id}}","description":"(Required) The user's id"}]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Accept-Language","value":"en-US,en;q=1"},{"key":"Cache-Control","value":"no-cache, must-revalidate, no-store"},{"key":"Content-Length","value":"186"},{"key":"Content-Type","value":"application/json"},{"key":"X-Content-Type-Options","value":"nosniff"},{"key":"X-Request-Id","value":"5F188C90-49E1609A-D47D-0A0B03ED-01BB-2869-1581"},{"key":"Date","value":"Wed, 22 Jul 2020 18:59:30 GMT"}],"cookie":[],"body":"{\n    \"id\": \"44aa6883-5048-4cd5-8cb2-64d47784230c\",\n    \"status\": \"pending\",\n    \"auth_factor_name\": \"SMS\",\n    \"type_display_name\": \"OneLogin SMS\",\n    \"user_display_name\": \"SMS\",\n    \"expires_at\": \"2020-07-22T19:01:29Z\"\n}"}]}],"protocolProfileBehavior":{},"_postman_isSubFolder":true},{"name":"devices","item":[{"name":"get user devices","request":{"auth":{"type":"oauth2","oauth2":[{"key":"accessToken","value":"{{access_token}}","type":"string"},{"key":"addTokenTo","value":"header","type":"string"}]},"method":"GET","header":[{"key":"Authorization","value":"bearer:{{access_token}}","type":"text"}],"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/devices","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","devices"],"variable":[{"key":"user_id","value":"{{user_id}}"}]},"description":"Get a user authentication devices"},"response":[{"name":"A list of authentication devices","originalRequest":{"method":"GET","header":[],"url":{"raw":"{{baseUrl}}/users/:user_id/devices","host":["{{baseUrl}}"],"path":["users",":user_id","devices"],"variable":[{"key":"user_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"body":"[\n {\n  \"type\": \"boolean\",\n  \"default\": \"<boolean>\"\n },\n {\n  \"type\": \"boolean\",\n  \"default\": \"<boolean>\"\n }\n]"}]},{"name":"delete user device","request":{"auth":{"type":"oauth2","oauth2":[{"key":"accessToken","value":"{{access_token}}","type":"string"},{"key":"addTokenTo","value":"header","type":"string"}]},"method":"DELETE","header":[{"key":"Authorization","value":"bearer: {{access_token}}","type":"text"}],"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/devices/:device_id","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","devices",":device_id"],"variable":[{"key":"user_id","value":"{{user_id}}"},{"key":"device_id","value":"<integer>","description":"(Required) ID of the device"}]},"description":"Delete a user\\'s authentication device"},"response":[{"name":"The device has been deleted","originalRequest":{"method":"DELETE","header":[],"url":{"raw":"{{baseUrl}}/users/:user_id/devices/:device_id","host":["{{baseUrl}}"],"path":["users",":user_id","devices",":device_id"],"variable":[{"key":"user_id"},{"key":"device_id"}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"body":""}]}],"protocolProfileBehavior":{},"_postman_isSubFolder":true},{"name":"verifications","item":[{"name":"{verification id}","item":[{"name":"get user verification","request":{"auth":{"type":"oauth2","oauth2":[{"key":"accessToken","value":"{{access_token}}","type":"string"},{"key":"addTokenTo","value":"header","type":"string"}]},"method":"GET","header":[{"key":"Authorization","value":"bearer: {{access_token}}","type":"text"}],"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/verifications/:verification_id","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","verifications",":verification_id"],"variable":[{"key":"user_id","value":"{{user_id}}","description":"(Required) The user's id"},{"key":"verification_id","value":"<UUID>","description":"(Required) The id of a verification"}]},"description":"Get verification state by id"},"response":[{"name":"Retrieved verification state","originalRequest":{"method":"GET","header":[],"url":{"raw":"{{baseUrl}}/users/:user_id/verifications/:verification_id","host":["{{baseUrl}}"],"path":["users",":user_id","verifications",":verification_id"],"variable":[{"key":"user_id"},{"key":"verification_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"body":"{\n \"id\": \"5a0ba80a-39a1-4627-9a8b-1273278b34ee\",\n \"status\": \"pending\",\n \"expires_at\": \"2020-07-11T22:24:50Z\",\n \"device_id\": \"331991\"\n}"}]},{"name":"verify user verification","request":{"auth":{"type":"oauth2","oauth2":[{"key":"accessToken","value":"{{access_token}}","type":"string"},{"key":"addTokenTo","value":"header","type":"string"}]},"method":"PUT","header":[{"key":"Content-Type","value":"application/json"},{"key":"Authorization","value":"bearer: {{access_token}}","type":"text"}],"body":{"mode":"raw","raw":"{\n    \"otp\": \"42CFA7\"\n}","options":{"raw":{}}},"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/verifications/:verification_id","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","verifications",":verification_id"],"variable":[{"key":"user_id","value":"{{user_id}}","description":"(Required) The user's id"},{"key":"verification_id","value":"<UUID>","description":"(Required) The id of a verification"}]},"description":"Submit an otp for verification."},"response":[{"name":"Verification code received. State updated.","originalRequest":{"method":"PUT","header":[],"body":{"mode":"raw","raw":"{\n    \"otp\": \"213932\"\n}"},"url":{"raw":"{{baseUrl}}/users/:user_id/verifications/:verification_id","host":["{{baseUrl}}"],"path":["users",":user_id","verifications",":verification_id"],"variable":[{"key":"user_id"},{"key":"verification_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"body":"{\n \"id\": \"5a0ba80a-39a1-4627-9a8b-1273278b34ee\",\n \"status\": \"pending\",\n \"expires_at\": \"2020-07-11T22:24:50Z\",\n \"device_id\": \"331991\"\n}"}]}],"protocolProfileBehavior":{},"_postman_isSubFolder":true},{"name":"create user device verification","request":{"auth":{"type":"oauth2","oauth2":[{"key":"accessToken","value":"{{access_token}}","type":"string"},{"key":"addTokenTo","value":"header","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Authorization","value":"bearer: {{access_token}}","type":"text","disabled":true}],"body":{"mode":"raw","raw":"{\n    \"device_id\": \"3920371\",\n    \"expires_in\": 240\n}","options":{"raw":{}}},"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/verifications","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","verifications"],"variable":[{"key":"user_id","value":"{{user_id}}","description":"(Required) The user's id"}]},"description":"Create a new verification process"},"response":[{"name":"Created verification flow","originalRequest":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n    \"device_id\": \"113242\",\n    \"expires_in\": 120\n}"},"url":{"raw":"{{baseUrl}}/users/:user_id/verifications","host":["{{baseUrl}}"],"path":["users",":user_id","verifications"],"variable":[{"key":"user_id"}]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"body":"{\n \"expires_at\": \"2020-07-11T22:24:50Z\",\n \"user_display_name\": \"Testing SMS DEMO\",\n \"type_display_name\": \"OneLogin SMS\",\n \"auth_factor_name\": \"SMS\",\n \"id\": \"5a0ba80a-39a1-4627-9a8b-1273278b34ee\",\n \"status\": \"pending\",\n \"user_id\": 2323,\n \"device_id\": \"489339\",\n \"factor_data\": {\n  \"verification_token\": \"<string>\",\n  \"totp_url\": \"<string>\"\n }\n}"}]}],"protocolProfileBehavior":{},"_postman_isSubFolder":true},{"name":"get user factors","request":{"auth":{"type":"oauth2","oauth2":[{"key":"accessToken","value":"{{access_token}}","type":"string"},{"key":"addTokenTo","value":"header","type":"string"}]},"method":"GET","header":[{"key":"Authorization","value":"bearer: {{access_token}}","type":"text"}],"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/factors","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","factors"],"variable":[{"key":"user_id","value":"{{user_id}}","description":"(Required) ID of the user"}]},"description":"Get a user\\'s available authentication factors"},"response":[{"name":"A list of authentication factors","originalRequest":{"method":"GET","header":[],"url":{"raw":"{{baseUrl}}/users/:user_id/factors","host":["{{baseUrl}}"],"path":["users",":user_id","factors"],"variable":[{"key":"user_id"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"body":"[\n {\n  \"factor_id\": \"<string>\",\n  \"name\": \"<string>\",\n  \"auth_factor_name\": \"<string>\"\n },\n {\n  \"factor_id\": \"<string>\",\n  \"name\": \"<string>\",\n  \"auth_factor_name\": \"<string>\"\n }\n]"}]},{"name":"issue user temp otp","request":{"auth":{"type":"oauth2","oauth2":[{"key":"accessToken","value":"{{access_token}}","type":"string"},{"key":"addTokenTo","value":"header","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Authorization","value":"bearer: {{access_token}}","type":"text","disabled":true}],"body":{"mode":"raw","raw":"{\n    \"expires_in\": 120,\n    \"reusable\": false\n}","options":{"raw":{}}},"url":{"raw":"https://{{api-domain}}/api/2/mfa/users/:user_id/mfa_token","protocol":"https","host":["{{api-domain}}"],"path":["api","2","mfa","users",":user_id","mfa_token"],"variable":[{"key":"user_id","value":"{{user_id}}","description":"(Required) The user's id"}]},"description":"Create new MFA token on the user's account"},"response":[{"name":"Created Mfa Token","originalRequest":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\n    \"expires_in\": 120,\n    \"reusable\": true\n}"},"url":{"raw":"{{baseUrl}}/users/:user_id/temp_otp","host":["{{baseUrl}}"],"path":["users",":user_id","temp_otp"],"variable":[{"key":"user_id"}]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"body":"{\n \"mfa_token\": \"UIOWE787979\",\n \"reusable\": true,\n \"expires_at\": \"2020-06-26T21:52:56Z\"\n}"}]}],"protocolProfileBehavior":{}}],"auth":{"type":"bearer"},"variable":[{"id":"baseUrl","key":"baseUrl","value":"http://local.onelogin.local/api/2/mfa","type":"string"}],"protocolProfileBehavior":{}}